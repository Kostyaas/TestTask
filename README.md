# Логирование сообщений с разными уровнями важности

## Описание проекта

Проект представляет собой библиотеку для записи сообщений в журнал с разными уровнями важности и демонстрационное приложение, показывающее работу библиотеки. Реализованы два варианта логирования: в файл и через сокет.

## Требования

- Компилятор с поддержкой C++17 (gcc 8+ или clang 10+)
- CMake 3.12+
- Linux/Unix система (тестировалось на Ubuntu/Debian)

## Сборка проекта

```bash
mkdir build && cd build
cmake ..
make
```

## Структура проекта

```
.
├── CMakeLists.txt          # Основной файл сборки
├── README.md               # Этот файл
├── include                 # Заголовочные файлы
│   ├── FileLogger.h        # Логирование в файл
│   ├── Ilogger.h           # Интерфейс логгера
│   └── SocketLogger.h      # Логирование через сокет
├── src                     # Исходные файлы
│   ├── FileLogger.cpp      # Реализация файлового логгера
│   └── SocketLogger.cpp    # Реализация сокет логгера
└── test                    # Тестовые приложения
    ├── CMakeLists.txt      # Файл сборки тестов
    ├── app                 # Консольное приложение
    └── stats_server        # Сервер сбора статистики
```

## Использование библиотеки

### Логирование в файл

```cpp
#include "FileLogger.h"

auto logger = std::make_shared<FileLogger>(Priority::medium, "log.txt");
logger->InputMessage("Важное сообщение", Priority::hard);
logger->InputMessage("Обычное сообщение"); // Используется уровень по умолчанию
```

### Логирование через сокет

```cpp
#include "SocketLogger.h"

auto logger = std::make_shared<SocketLogger>(Priority::easy, "127.0.0.1", 8080);
logger->InputMessage("Тестовое сообщение", Priority::medium);
```

## Тестовые приложения

### Консольное приложение

Формат ввода:
```
сообщение [уровень]
```
где уровень - easy, medium или hard (необязательный параметр)
```
LogServer server(8080, 5, 100);
```
где:
- 8080 - порт
- 10 - выводить статистику каждые 10 сообщений
- 5 - выводить статистику каждые 5 секунд (если были изменения)

## Особенности реализации

1. **Потокобезопасность**: Все операции с разделяемыми ресурсами защищены мьютексами
2. **Гибкость**: Поддержка разных уровней важности сообщений
3. **Производительность**: Использование отдельного потока для записи
4. **Расширяемость**: Интерфейс Ilogger позволяет легко добавлять новые типы логгеров

## Документация

Подробное описание API доступно в заголовочных файлах. Основные классы:

- `Ilogger` - интерфейс логгера
- `FileLogger` - логирование в файл
- `SocketLogger` - логирование через сокет
- `App` - консольное приложение для тестирования
- `LogServer` - сервер сбора статистики
